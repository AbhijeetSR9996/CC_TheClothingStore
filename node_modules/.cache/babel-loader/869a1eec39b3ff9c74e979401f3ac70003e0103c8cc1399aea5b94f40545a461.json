{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport PRODUCTS from \"../../shop-data.json\"; // Static product data\n\nconst initialState = {\n  allProducts: PRODUCTS,\n  // Original product list\n  filteredProducts: PRODUCTS,\n  // Filtered product list\n  activeButton: \"all\",\n  // Current active filter\n  searchTerm: \"\" // Search input\n};\nconst productsSlice = createSlice({\n  name: \"products\",\n  initialState,\n  reducers: {\n    setActiveButton: (state, action) => {\n      state.activeButton = action.payload;\n    },\n    setSearchTerm: (state, action) => {\n      state.searchTerm = action.payload;\n    },\n    applyFilters: state => {\n      let filtered = [...state.allProducts];\n\n      // Apply search term filter\n      if (state.searchTerm.trim()) {\n        filtered = filtered.filter(product => product.name.toLowerCase().includes(state.searchTerm.toLowerCase()) || product.category.toLowerCase().includes(state.searchTerm.toLowerCase()) || product.gender.toLowerCase().includes(state.searchTerm.toLowerCase()));\n      }\n\n      // Apply active button filter\n      if (state.activeButton !== \"all\") {\n        if ([\"cap\", \"jacket\", \"sneaker\"].includes(state.activeButton)) {\n          filtered = filtered.filter(product => product.category.toLowerCase() === state.activeButton);\n        } else if ([\"men\", \"women\"].includes(state.activeButton)) {\n          filtered = filtered.filter(product => product.gender.toLowerCase() === state.activeButton);\n        }\n      }\n      state.filteredProducts = filtered;\n    },\n    resetFilters: state => {\n      state.searchTerm = \"\";\n      state.activeButton = \"all\";\n      state.filteredProducts = state.allProducts;\n    }\n  }\n});\nexport const {\n  setActiveButton,\n  setSearchTerm,\n  applyFilters,\n  resetFilters\n} = productsSlice.actions;\nexport default productsSlice.reducer;","map":{"version":3,"names":["createSlice","PRODUCTS","initialState","allProducts","filteredProducts","activeButton","searchTerm","productsSlice","name","reducers","setActiveButton","state","action","payload","setSearchTerm","applyFilters","filtered","trim","filter","product","toLowerCase","includes","category","gender","resetFilters","actions","reducer"],"sources":["D:/code/projects/crownclothing_theshoppingsite/src/features/products/productsSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport PRODUCTS from \"../../shop-data.json\"; // Static product data\r\n\r\nconst initialState = {\r\n  allProducts: PRODUCTS, // Original product list\r\n  filteredProducts: PRODUCTS, // Filtered product list\r\n  activeButton: \"all\", // Current active filter\r\n  searchTerm: \"\", // Search input\r\n};\r\n\r\nconst productsSlice = createSlice({\r\n  name: \"products\",\r\n  initialState,\r\n  reducers: {\r\n    setActiveButton: (state, action) => {\r\n      state.activeButton = action.payload;\r\n    },\r\n    setSearchTerm: (state, action) => {\r\n      state.searchTerm = action.payload;\r\n    },\r\n    applyFilters: (state) => {\r\n      let filtered = [...state.allProducts];\r\n\r\n      // Apply search term filter\r\n      if (state.searchTerm.trim()) {\r\n        filtered = filtered.filter(\r\n          (product) =>\r\n            product.name\r\n              .toLowerCase()\r\n              .includes(state.searchTerm.toLowerCase()) ||\r\n            product.category\r\n              .toLowerCase()\r\n              .includes(state.searchTerm.toLowerCase()) ||\r\n            product.gender\r\n              .toLowerCase()\r\n              .includes(state.searchTerm.toLowerCase())\r\n        );\r\n      }\r\n\r\n      // Apply active button filter\r\n      if (state.activeButton !== \"all\") {\r\n        if ([\"cap\", \"jacket\", \"sneaker\"].includes(state.activeButton)) {\r\n          filtered = filtered.filter(\r\n            (product) => product.category.toLowerCase() === state.activeButton\r\n          );\r\n        } else if ([\"men\", \"women\"].includes(state.activeButton)) {\r\n          filtered = filtered.filter(\r\n            (product) => product.gender.toLowerCase() === state.activeButton\r\n          );\r\n        }\r\n      }\r\n\r\n      state.filteredProducts = filtered;\r\n    },\r\n    resetFilters: (state) => {\r\n      state.searchTerm = \"\";\r\n      state.activeButton = \"all\";\r\n      state.filteredProducts = state.allProducts;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setActiveButton, setSearchTerm, applyFilters, resetFilters } =\r\n  productsSlice.actions;\r\n\r\nexport default productsSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,QAAQ,MAAM,sBAAsB,CAAC,CAAC;;AAE7C,MAAMC,YAAY,GAAG;EACnBC,WAAW,EAAEF,QAAQ;EAAE;EACvBG,gBAAgB,EAAEH,QAAQ;EAAE;EAC5BI,YAAY,EAAE,KAAK;EAAE;EACrBC,UAAU,EAAE,EAAE,CAAE;AAClB,CAAC;AAED,MAAMC,aAAa,GAAGP,WAAW,CAAC;EAChCQ,IAAI,EAAE,UAAU;EAChBN,YAAY;EACZO,QAAQ,EAAE;IACRC,eAAe,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAClCD,KAAK,CAACN,YAAY,GAAGO,MAAM,CAACC,OAAO;IACrC,CAAC;IACDC,aAAa,EAAEA,CAACH,KAAK,EAAEC,MAAM,KAAK;MAChCD,KAAK,CAACL,UAAU,GAAGM,MAAM,CAACC,OAAO;IACnC,CAAC;IACDE,YAAY,EAAGJ,KAAK,IAAK;MACvB,IAAIK,QAAQ,GAAG,CAAC,GAAGL,KAAK,CAACR,WAAW,CAAC;;MAErC;MACA,IAAIQ,KAAK,CAACL,UAAU,CAACW,IAAI,CAAC,CAAC,EAAE;QAC3BD,QAAQ,GAAGA,QAAQ,CAACE,MAAM,CACvBC,OAAO,IACNA,OAAO,CAACX,IAAI,CACTY,WAAW,CAAC,CAAC,CACbC,QAAQ,CAACV,KAAK,CAACL,UAAU,CAACc,WAAW,CAAC,CAAC,CAAC,IAC3CD,OAAO,CAACG,QAAQ,CACbF,WAAW,CAAC,CAAC,CACbC,QAAQ,CAACV,KAAK,CAACL,UAAU,CAACc,WAAW,CAAC,CAAC,CAAC,IAC3CD,OAAO,CAACI,MAAM,CACXH,WAAW,CAAC,CAAC,CACbC,QAAQ,CAACV,KAAK,CAACL,UAAU,CAACc,WAAW,CAAC,CAAC,CAC9C,CAAC;MACH;;MAEA;MACA,IAAIT,KAAK,CAACN,YAAY,KAAK,KAAK,EAAE;QAChC,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,SAAS,CAAC,CAACgB,QAAQ,CAACV,KAAK,CAACN,YAAY,CAAC,EAAE;UAC7DW,QAAQ,GAAGA,QAAQ,CAACE,MAAM,CACvBC,OAAO,IAAKA,OAAO,CAACG,QAAQ,CAACF,WAAW,CAAC,CAAC,KAAKT,KAAK,CAACN,YACxD,CAAC;QACH,CAAC,MAAM,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAACgB,QAAQ,CAACV,KAAK,CAACN,YAAY,CAAC,EAAE;UACxDW,QAAQ,GAAGA,QAAQ,CAACE,MAAM,CACvBC,OAAO,IAAKA,OAAO,CAACI,MAAM,CAACH,WAAW,CAAC,CAAC,KAAKT,KAAK,CAACN,YACtD,CAAC;QACH;MACF;MAEAM,KAAK,CAACP,gBAAgB,GAAGY,QAAQ;IACnC,CAAC;IACDQ,YAAY,EAAGb,KAAK,IAAK;MACvBA,KAAK,CAACL,UAAU,GAAG,EAAE;MACrBK,KAAK,CAACN,YAAY,GAAG,KAAK;MAC1BM,KAAK,CAACP,gBAAgB,GAAGO,KAAK,CAACR,WAAW;IAC5C;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEO,eAAe;EAAEI,aAAa;EAAEC,YAAY;EAAES;AAAa,CAAC,GACzEjB,aAAa,CAACkB,OAAO;AAEvB,eAAelB,aAAa,CAACmB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}